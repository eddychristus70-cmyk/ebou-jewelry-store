(self.modernJsonp=self.modernJsonp||[]).push([["78949"],{782677:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e){return!!(e&&"function"==typeof e.hasOwnProperty&&(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function u(e,t,n){return Object.keys(e).reduce(function(t,r){var i=""+r;return t.has(i)?t.set(i,n(t.get(i),e[i])):t},t)}n.d(t,{Fv:()=>y,fK:()=>h});var c=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!=typeof e)throw Error("Expected a string key for Entity, but found "+e+".");var r=n,i=r.idAttribute,o=void 0===i?"id":i,u=r.mergeStrategy,c=void 0===u?function(e,t){return a({},e,t)}:u,l=r.processStrategy,d=void 0===l?function(e){return a({},e)}:l,m=r.fallbackStrategy;this._key=e,this._getId="function"==typeof o?o:function(e){return s(e)?e.get(o):e[o]},this._idAttribute=o,this._mergeStrategy=c,this._processStrategy=d,this._fallbackStrategy=void 0===m?function(e,t){}:m,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var r,i=e[n];return a({},t,((r={})[n]=i,r))},this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,n,r,i,a){var o=this,s=this.getId(e,t,n),u=this.key;if(u in a||(a[u]={}),s in a[u]||(a[u][s]=[]),a[u][s].some(function(t){return t===e}))return s;a[u][s].push(e);var c=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach(function(t){if(c.hasOwnProperty(t)&&"object"==typeof c[t]){var n=o.schema[t],s="function"==typeof n?n(e):n;c[t]=r(c[t],c,t,s,i,a)}}),i(this,c,e,t,n),s},t.denormalize=function(e,t){var n=this;return s(e)?u(this.schema,e,t):(Object.keys(this.schema).forEach(function(r){if(e.hasOwnProperty(r)){var i=n.schema[r];e[r]=t(e[r],i)}}),e)},i(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),l=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var r=this.getSchemaAttribute(e,t,n);return this.schema[r]},t.normalizeValue=function(e,t,n,r,i,a){var o=this.inferSchema(e,t,n);if(!o)return e;var s=r(e,t,n,o,i,a);return this.isSingleSchema||null==s?s:{id:s,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=s(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((this.isSingleSchema?void 0:s(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},i(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),d=function(e){function t(t,n){if(!n)throw Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,i,a){return this.normalizeValue(e,t,n,r,i,a)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(l),m=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,i,o){var s=this;return Object.keys(e).reduce(function(t,n,u){var c,l=e[n];return null!=l?a({},t,((c={})[n]=s.normalizeValue(l,e,n,r,i,o),c)):t},{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce(function(r,i){var o,s=e[i];return a({},r,((o={})[i]=n.denormalizeValue(s,t),o))},{})},t}(l),f=function(e){if(Array.isArray(e)&&e.length>1)throw Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},p=function(e){return Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t]})},_=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,i,a){var o=this;return p(e).map(function(e,s){return o.normalizeValue(e,t,n,r,i,a)}).filter(function(e){return null!=e})},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map(function(e){return n.denormalizeValue(e,t)}):e},t}(l),g=function(e,t,n,r,i,o,s){var u=a({},t);return Object.keys(e).forEach(function(n){var r=e[n],a="function"==typeof r?r(t):r,c=i(t[n],t,n,a,o,s);null==c?delete u[n]:u[n]=c}),u},v=function(e,t,n){if(s(t))return u(e,t,n);var r=a({},t);return Object.keys(e).forEach(function(t){null!=r[t]&&(r[t]=n(r[t],e[t]))}),r},h={Array:_,Entity:c,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var r,i=e[n];return a({},t,((r={})[n]=i,r))},this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.apply(void 0,[this.schema].concat(t))},e}(),Union:d,Values:m},y=function(e,t){if(!e||"object"!=typeof e)throw Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var n={};return{entities:n,result:function e(t,n,r,i,a,o){return"object"==typeof t&&t?"object"!=typeof i||i.normalize&&"function"==typeof i.normalize?i.normalize(t,n,r,e,a,o):(Array.isArray(i)?function(e,t,n,r,i,a,o){return e=f(e),p(t).map(function(t,s){return i(t,n,r,e,a,o)})}:g)(i,t,n,r,e,a,o):t}(e,e,null,t,function(e,t,r,i,a){var o=e.key,s=e.getId(r,i,a);o in n||(n[o]={});var u=n[o][s];u?n[o][s]=e.merge(u,t):n[o][s]=t},{})}}},237666:function(e,t,n){var r=n(667294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var d=o(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var f=a(e,(d=u(function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==l&&m.hasValue){var t=m.value;if(l(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var n=r(e);return void 0!==l&&l(t,n)?(a=e,t):(a=e,o=n)}var a,o,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,l]))[0],d[1]);return s(function(){m.hasValue=!0,m.value=f},[f]),c(f),f}},331103:function(e,t,n){e.exports=n(237666)},939672:function(e,t,n){n.d(t,{$A:()=>p,N0:()=>v,N3:()=>_,VK:()=>f,_J:()=>g,mW:()=>m});var r=n(667294),i=n(503246),a=n(603316),o=n(785893);let s={},u={},c=!1,l=0,d=(0,r.createContext)({setMetric:()=>void 0,getMetricForComponent:()=>void 0,getMetricsForPath:()=>void 0,setRmaData:()=>void 0});function m({children:e}){let t=(0,r.useCallback)((e,t,n)=>{s[e]||(s[e]={}),s[e][t]=n},[]),n=(0,r.useCallback)((e,t)=>s[e]?.[t],[]),a=(0,r.useCallback)(e=>s[e],[]),m=(0,r.useCallback)(({id:e,path:t,fragmentName:n,executionTime:r,newData:a})=>{if(c)return;let o=`${n}.${e}`;u[t]||(u[t]={}),u[t][o]||(u[t][o]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let s=u[t][o];(0,i.ZP)(a,s.previousData)?(s.wastedTime+=r,l+=r):s.resultUpdatedCount+=1,s.totalRenderTime+=r,s.renderCount+=1,s.previousData=a},[]),f=(0,r.useMemo)(()=>({setMetric:t,getMetricForComponent:n,getMetricsForPath:a,setRmaData:m}),[t,n,a,m]);return(0,o.jsx)(d,{value:f,children:e})}function f(){return(0,r.use)(d)}function p(e){return s[e]}function _(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function g(e){let t=u[e],n={};c=!0,t&&Object.keys(t).length&&_(e)&&(Object.entries(t).forEach(([e,t])=>{let[r]=e.split(".");r&&!n[r]&&(n[r]=!0,(0,a.QX)(`render_stats.rma.${r}.renderCount`,t.renderCount,{sampleRate:1}),(0,a.QX)(`render_stats.rma.${r}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,a.LY)(`render_stats.rma.${r}.renderTime`,t.totalRenderTime,{sampleRate:1}),(0,a.LY)(`render_stats.rma.${r}.wastedTime`,t.totalRenderTime,{sampleRate:1}))}),(0,a.LY)("render_stats.rma.totalWastedTime",l,{sampleRate:1,tags:{path:e}}))}function v(){s={},u={},c=!1,l=0}},399573:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return function e(t,n){let r;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let i=n.find(e=>e.value===t);if(i)return i.result;let a=Object.prototype.toString.call(t);switch(a){case"[object Array]":r=Array(t.length);break;case"[object Set]":r=new Set;break;case"[object Object]":case"[object Arguments]":r={};break;case"[object Map]":r=new Map;break;default:return t}let o=[...n,{value:t,result:r}];switch(a){case"[object Array]":t.forEach((t,n)=>{r[n]=e(t,o)});break;case"[object Set]":t.forEach(t=>{r.add(e(t,o))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,n])=>{r[t]=e(n,o)});break;case"[object Map]":t.forEach((t,n)=>{r.set(n,e(t,o))})}return r}(e,[])}},503246:function(e,t,n){function r(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(!a(e[r],t[r],n+1))return!1;return!0}function i(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!(r in t)||!a(e[r],t[r],n+1))return!1;return!0}function a(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return r(e,t,n);case"[object Set]":return r(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return i(e,t,n);case"[object Map]":return i(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function o(e,t){return a(e,t,0)}n.d(t,{Z1:()=>i,ZP:()=>o,qP:()=>r})},722194:function(e,t,n){n.d(t,{Z:()=>s});var r=n(667294),i=n(413145),a=n(603316);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends r.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,n=this.props.type||"secondary";(0,i.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,a.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,a.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},286036:function(e,t,n){function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});let i=new class{constructor(){r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}},a=e=>{if(e.isHidden){let{reason:t}=e;i.windowInFocus=!1,i.onPauseListeners.forEach(e=>e(t))}else i.windowInFocus=!0,i.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>a({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>a({isHidden:!1})),window.addEventListener("blur",()=>a({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>a({isHidden:!1})),window.addEventListener("pagehide",()=>a({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let o=i},355363:function(e,t,n){n.d(t,{Z:()=>u});var r=n(336057),i=n(667294),a=n(392824),o=n(754545),s=n(573746);function u({children:e,isAtEndOfFeed:t,pinData:n,itemCount:u,includeBackgroundImages:c=!1,includeVideos:l=!1,includeSections:d=!1,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:f,stopwatchContext:p}){let{isAuthenticated:_}=(0,s.bC)();_||(d=!0),(0,r.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:l,includeSections:d,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:f,stopwatchContext:p});let g=(0,i.useRef)(null),v=(0,o.P9)();return(0,i.useEffect)(()=>{u!==g.current&&(g.current=u,v&&(0,a.ZP)(a.at))},[v,u]),e}},579358:function(e,t,n){n.d(t,{F9:()=>c,LM:()=>u,VZ:()=>a,cQ:()=>l,rZ:()=>o});var r=n(210811),i=n(901360);let a=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},u=()=>document.querySelector?document.querySelectorAll(r.wc).length:((0,i.H)("missing_document_query_selector"),0),c=()=>{let e=(()=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(r.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},l=(e,t,n)=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),[];let a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},u=[r.Wf,...e?[r.fF]:[],...t?[r.$N]:[]].join(","),c=[...document.querySelectorAll(u)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?c.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return c.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&((e,t)=>{let n=o(e);if(!n)return(0,i.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;let t=s(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:r})=>{let i=e+r;if(i>=n)return!1;let a=Math.min(t,n-i);return a>.5*t||a>.2*n})(n,t)})(n,a)){let t=s(n);if(t){let r=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:r}])}}return e},[])}},210811:function(e,t,n){n.d(t,{$N:()=>u,Kb:()=>r,Wf:()=>o,fF:()=>s,wc:()=>a});let r="pwt-grid-item",i=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${r}"]`],a=i.join(","),o=i.map(e=>`${e} img`).join(","),s=i.map(e=>`${e} div[style*=background-image]`).join(","),u=i.map(e=>`${e} video`).join(",")},336057:function(e,t,n){n.d(t,{Z:()=>_,v:()=>p});var r=n(667294),i=n(592109),a=n(579358),o=n(901360),s=n(392824),u=n(293169),c=n(754545),l=n(956077),d=n(610046),m=n(603316);let f=(0,i.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,a.VZ)();function _({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:p=!1,includeSections:_,isPlaceholderGrid:g,stopwatchSetVisuallyCompleteResult:v,stopwatchContext:h}){let y=(0,c.P9)(),[E,R]=(0,r.useState)({status:"DISABLED"});(0,r.useEffect)(()=>{R({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[y]),(0,r.useEffect)(()=>{if(f("new status",E),"LAYOUT"===E.status){let e=((e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{(0,s.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[E.status]),(0,d.Z)(()=>{let r=(0,c.Ly)(),s=()=>{},d=e=>{(0,c.JG)(e),h&&h?.abort()};"unknown"!==r?s=l.rt:(r=`${h?.name}`,h?.addBinaryAnnotation&&(s=h?.addBinaryAnnotation));let y=(0,a.cQ)(n,p,_);if(g)return void f("bypassing PWT run due to skeleton pin grid");switch(E.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,a.LM)();if(t===e)return f("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,a.F9)())return f("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(E.numOfItemsChecked,e);t.complete?R({status:"TIMING",failedCount:0,pinElements:y}):500*E.failedCount>6e4?((0,o.A9)(`images.${r}.visuallyComplete.maxLayoutAttempt`),d("visuallyComplete_layoutTimeout"),R({status:"DISABLED"})):R({...E,failedCount:E.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,u.Cg)(),n=E.pinElements.length,a=[],l=0,p=0,_=0,g=1/0,h=0;if(E.pinElements.forEach(({element:t,fileName:n})=>{let o=e.find(e=>e.name.endsWith(n));o?o.responseEnd?(a.push(o),(0,i.v5)(t,"green"),"SEARCH_FEED_RENDER"===r&&(g=Math.min(g,o.requestStart),h=Math.max(h,o.responseEnd))):(_+=1,(0,i.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(p+=1,(0,i.v5)(t,"red")):(l+=1,(0,i.v5)(t,"greenyellow"))}),l||_)100*E.failedCount>6e4?((0,o.A9)(`images.${r}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:l,noTimingCount:p,noTimingResponseEndCount:_}}),d("visuallyComplete_timingTimeout"),R({status:"DISABLED"})):R({...E,failedCount:E.failedCount+1});else{if(f(`All ${a.length} images are fetched`),t&&t.length){var b,w;let e,n,i,a,u,l=(b=t,w=E.pinElements,e=0,n=0,i=0,a=0,u=0,b=b.filter(e=>"pin"===e.type),w.forEach((t,r)=>{let o,s=t.fileName.split(".")[0];o=b[r],s!==o?.image_signature&&(o=b.find(e=>s===e?.image_signature)),void 0===o?u+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?i+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?e+=1:o?.videos?.video_list?n+=1:a+=1}),{storyPinCount:e,videoCount:n,adCount:i,imageCount:a,unknownCount:u});if(Object.entries(l).forEach(([e,t])=>{s(e,t,"I16"),(0,c.XJ)(e,t,"I16")}),(0,o.A9)(`${r}.pinTypes`,{tags:l}),"SEARCH_FEED_RENDER"===r){let e=h-g;t[0].display_options?.num_columns_requested===0?(0,m.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,m.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{v&&v(),(0,c.cB)(e)})({imageTimings:a}),R({status:"DISABLED"}),(0,o.A9)(`images.${r}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:p}})}}}},"LAYOUT"===E.status&&500||"TIMING"===E.status&&100||null)}},30880:function(e,t,n){n.d(t,{Z:()=>o});var r=n(32259);let i=null;function a(e){(0,r.El)({eventName:`perf.not_supported.${e}`})}function o(){if(i)return i;try{if(!window.performance||!performance)return a("window_performance"),i=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return a("window_PerformanceObserver"),i=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return a("window_PerformanceObserver_supportedEntryTypes"),i=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return a("window_PerformanceObserver_supportedEntryTypes_mark"),i=!1,!1;i=["mark","measure","now","setResourceTimingBufferSize"].reduce((e,t)=>(window.performance[t]&&performance[t]||(a(`window_performance_${t}`),e=!1),e),!0)}catch(e){(0,r.jn)({errorName:e})}return i}},754545:function(e,t,n){let r,i,a;n.d(t,{Eq:()=>j,yh:()=>O,XJ:()=>D,Lg:()=>U,cB:()=>Z,Ly:()=>k,JG:()=>H,P9:()=>M,ZP:()=>G,ep:()=>B,$e:()=>F});var o=n(392824),s=n(703393),u=n(735201),c=n(868178),l=n(286036),d=n(573746);let m=!1;function f(){if(m)return;let e=window.innerHeight,t=window.innerWidth,n=()=>{let r=(0,d.bC)(),i=Math.abs(window.innerHeight-e),a=window.innerHeight!==e,o=window.innerWidth!==t;if("phone"===r.deviceType&&(!o&&a&&i<=150||!a&&!o)||"desktop"===r.deviceType&&!a&&!o){window.removeEventListener("resize",n),m=!1;return}H("windowResized"),window.removeEventListener("resize",n),m=!1};window.addEventListener("resize",n),m=!0}var p=n(30880);let _=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js","sterling/advertiser/[advertiserId]/ads/review_draft.js","sterling/advertiser/[advertiserId]/ads/edit_draft.js","sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered","createFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],g=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["NavigationCompletev4","VisuallyComplete"],annotateExperiments:["web_sw_extend_precache","web_sw_reduce_precache","web_sw_provide_revision","web_sw_specify_hostname"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["NavigationCompletev4","RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["NavigationCompletev4","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["NavigationCompletev4"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["NavigationCompletev4","VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}}];var v=n(32259),h=n(112114);let y=[...g,..._];function E({isAuthenticated:e,isInitialPageLoad:t,isMobile:n}){let r=(0,h.H)(),i=y.find(e=>Array.isArray(e.handler)?e.handler.includes(r):r===e.handler),a=i?.config,o=a?.unified;if(o||(o=n?a?.mWeb:a?.dWeb),o){let n=e?o.auth:o.unauth;if(n){if(t&&n.initialPageLoad)return(0,v.qu)("Found isInitialPageLoad config"),(0,v.qu)(n.initialPageLoad),{...n.initialPageLoad};else if(!t&&n.clientNavigation)return(0,v.qu)("Found clientNavigation config"),(0,v.qu)(n.clientNavigation),{...n.clientNavigation}}}return(0,v.qu)(`No config found for ${r} :(`),null}var R=n(956077);let b={},w=[],L=[],C={},A={},P=[],T=0,N=0,S=[],I=["webpack_react_profiler","build_with_rspack","web_early_hydration","web_ngjs_related_modules_response_remove_nulls","web_ngjs_homefeed_response_remove_nulls","web_ngjs_search_response_remove_nulls"];function O(e){e&&H(e),(0,v.qu)("Reset PWT configs"),b={},w=[],L=[],C={},A={},P=[],r=null,T=0,N=0,a="",S=[]}function j(){return r?N:0}function k(){return r?r.name:"unknown"}function M(){return r?N:null}function D(e,t,n){let r;if((0,p.Z)()){switch(n){case"BOOL":r={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":r={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":r={type:n,value:"number"==typeof t?t:null};break;default:(0,v.qu)("Invalid binary annotation type");return}if(null===r.value)return void(0,v.qu)("Invalid binary annotation value");A={...A,[e]:r},(0,v.qu)(`Add binary annotation: { ${e}: ${r.value} }`)}}function F(e){if((0,p.Z)())if(r){let t=L.indexOf(e);if(t>-1){if(L.splice(t,1),(0,v.qu)(`Remove constraint: ${e}. Remaining constraints: [${L.join(", ")}]`),0===L.length){let e=T-N,t=[...I,...r.annotateExperiments||[]];(0,v.fv)({pwtName:r.name,annotateExperiments:t}),(0,v.$v)({eventName:r.name,value:e}),(0,v.$v)({eventName:"complete",value:e,tags:{handler:(0,h.H)()}});let n=(0,d.bC)(),u={type:"surface",surface:r.name,id:r.id,navigationType:i,isAuthenticated:n.isAuthenticated};(0,o.L8)(`Report_PWT_Complete_${r.name}`,N,T);let l=(0,s.W)({annotateExperiments:t,annotations:{},binaryAnnotations:A,constraintMap:C,endTime:T,imageTimings:P,isV4Logger:!0,metricId:u,pwtStaticContext:n,startTime:N,traceId:a,spans:[]});(0,v.qu)(`All constraints complete. ${r.name} PWT completed at ${Math.floor(T)}ms. PWT duration: ${Math.floor(e)}ms`),(0,v.qu)("Result:",l),(0,c.Z)({metricId:u,pwtStaticContext:n,result:l,isV4Logger:!0,annotateExperiments:t}),O()}}else(0,v.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:r.name,errorDetailsTag:e})}else(0,v.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),w.push(e)}function V(e,t){if((0,p.Z)())if(r){let n=L.indexOf(e);n>-1&&(T<t&&(T=t),C[e]=t,(0,v.eR)(L[n],r?.name),(0,v.$v)({eventName:`${r?.name}.constraint.${e}`,value:t}),(0,v.$v)({eventName:`constraint.${e}`,value:t,tags:{handler:(0,h.H)()}}),(0,v.qu)(`Complete constraint: ${e} at ${Math.floor(t)}ms`),F(e))}else b[e]||(b[e]=t)}function H(e){if((0,p.Z)()&&r){let t=[...I,...r.annotateExperiments||[]];(0,v.T0)({abortReason:e,pwtName:r.name,annotateExperiments:t}),L.forEach(e=>{(0,v.yi)(e,r?.name)});let n=(0,d.bC)(),o={type:"surface",surface:r.name,id:r.id,navigationType:i,isAuthenticated:n.isAuthenticated},u=(0,s.N)({reason:e,annotateExperiments:t,annotations:{},binaryAnnotations:A,constraintMap:C,endTime:performance.now(),imageTimings:P,isV4Logger:!0,metricId:o,pwtStaticContext:n,startTime:N,traceId:a,spans:[]});(0,v.qu)(`Abort ${r.name} PWT. Abort reason: ${e}`),(0,v.qu)("Result:",u),(0,c.Z)({metricId:o,pwtStaticContext:n,result:u,isV4Logger:!0,annotateExperiments:t}),O()}}function Z(e){if((0,p.Z)()&&r&&L.includes("VisuallyComplete"))if((0,v.qu)("Set visually complete result"),(0,v.qu)("Image resource timings: ",e),0===(P=e).length)H("visuallyComplete_noImages");else{let e=Math.max(...P.map(e=>e.responseEnd||0));(0,R.Nx)("VisuallyComplete",e)}}function U(e){if((0,p.Z)())if(r&&r.name.toLowerCase()!==e.toLowerCase()){let t=[...I,...r.annotateExperiments||[]],{isAuthenticated:n,deviceType:a}=(0,d.bC)(),o=(({isAuthenticated:e,isInitialPageLoad:t,isMobile:n,segment:r})=>{let i=E({isAuthenticated:e,isInitialPageLoad:t,isMobile:n});return i?.segments?.[r]??null})({isAuthenticated:n,isInitialPageLoad:"initial_app_load"===i,isMobile:"phone"===a,segment:e});if(!o)return void(0,v.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,v.T0)({abortReason:"segmentChange",pwtName:r.name,annotateExperiments:t}),r.name=o,(0,v.qu)(`Set segment to ${e}. PWT action name: ${o}`),(0,v.sd)({pwtName:r.name,annotateExperiments:[...I,...r.annotateExperiments||[]]})}else(0,v.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function B(e,t,n){if((0,p.Z)())if(r&&H("routeChange"),"POP"===e&&!1===n);else{f();let{isAuthenticated:o,deviceType:s,serverData:c}=(0,d.bC)();if(r=E({isAuthenticated:o,isInitialPageLoad:n,isMobile:"phone"===s})){if(N=t,n)i="initial_app_load";else switch(e){case"PUSH":i="client_route_push";break;case"REPLACE":i="client_route_replace"}(0,v.sd)({pwtName:r.name,annotateExperiments:[...I,...r.annotateExperiments||[]]}),(0,v.qu)(`Start ${r.name} PWT`),r?.constraints.forEach(e=>{(0,p.Z)()&&(r?((0,v.DM)(e,r.name),L.includes(e)||(L.push(e),(0,v.qu)(`Add constraint: ${e}`))):(0,v.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e}))}),L.forEach(e=>{b[e]?V(e,b[e]):w.includes(e)&&F(e)}),a=(0,u.vc)()||(0,u.ZP)("initial_app_load"===i,c?.trace_id)}}}function G({requestContext:e,traceLoggerData:t}){try{if((0,d.Z4)({requestContext:e,traceLoggerData:t}),!(0,p.Z)())return void(0,v.El)({eventName:"unsupportedPWTBrowser"});(0,v.El)({eventName:"supportedPWTBrowser"}),f(),l.Z.onSessionPause(H);let n=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{e&&e.name&&!e.name.startsWith("--")&&e.name.includes("complete_constraint__")&&V(e.name.split("complete_constraint__")[1]||"",e.startTime)})});n.observe&&n.observe({type:"mark",buffered:!0});let r=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let{rtt:t}=window.navigator.connection||{};if(t&&"number"==typeof t){let n=e.responseEnd-t/2;n>0&&(0,o.ZP)("client_chunkEndTime",n)}(0,o.L8)("dom_complete",e.startTime,e.domComplete),(0,o.L8)("dom_interactive",e.startTime,e.domInteractive),(0,o.L8)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,o.L8)("load_event_end",e.startTime,e.loadEventEnd),(0,o.L8)("response_start",e.startTime,e.responseStart),(0,o.L8)("response_duration",e.responseStart,e.responseEnd)})});r.observe&&r.observe({type:"navigation",buffered:!0});let i=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.identifier.includes("MainPinImage")&&!S.includes(e.identifier)&&S.push(e.identifier)})});i.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",()=>{n.disconnect(),r.disconnect(),i.disconnect()})}catch(e){(0,v.jn)({errorName:e})}}},956077:function(e,t,n){n.d(t,{Nx:()=>s,Yl:()=>l,l7:()=>c,qS:()=>d,rt:()=>m,sX:()=>u});var r=n(667294),i=n(392824),a=n(30880),o=n(754545);let s=(e,t)=>{(0,a.Z)()&&(t?performance.mark(`complete_constraint__${e}`,{startTime:t}):performance.mark(`complete_constraint__${e}`),(0,i.L8)(`constraint__${e}`,(0,o.Eq)(),t??performance.now()))},u=e=>{(0,o.JG)(e)},c=e=>{(0,o.$e)(e)},l=e=>{(0,o.Lg)(e)},d=e=>{(0,r.useEffect)(()=>{(0,o.Lg)(e)},[e])},m=(e,t,n)=>{(0,o.XJ)(e,t,n)}},440568:function(e,t,n){n.d(t,{Z:()=>a,k:()=>i});let r=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]);function i(e){try{if(!e)return{};return Object.fromEntries(JSON.parse(e))}catch(t){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((e,t)=>{let[n,r]=t.split("=");return e[n]=JSON.parse(r),e},{})}}let a=e=>e?JSON.stringify(Object.entries("object"==typeof e?e:{}).filter(([e])=>"string"==typeof e&&!r.has(e)&&!e.startsWith("__track__")).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>[e,t??null])):""},707079:function(e,t,n){n.d(t,{F_:()=>o,MA:()=>s,ZP:()=>i,y8:()=>a});var r=n(729434);class i{constructor(){var e,t,n;t={},(e="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="pending","string"))?n:n+"")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}add(e,t,n){n&&(this.pending[e]={...this.pending[e]??{},[t]:n},n.finally?.(()=>this.remove(e,t)))}remove(e,t){this.pending[e]?.[t]&&(delete this.pending[e][t],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}get(e,t){return this.pending[e]?.[t]??null}}let a=new i,{Provider:o,getMaybe:s}=(0,r.Z)("PendingFetches")},791948:function(e,t,n){n.d(t,{UZ:()=>f,Z8:()=>p,my:()=>_,vL:()=>v,w1:()=>g});var r=n(667294),i=n(581722),a=n(575108),o=n(729434),s=n(72918),u=n(785893);function c(e,t,n){let r=[...t[e][n.payload.name]??[],n.payload.handler],i={...t};return i[e]={...t[e],[n.payload.name]:r},i}function l(e,t,n){if(!t[e][n.payload.name])return t;let r=t[e][n.payload.name].filter(e=>e!==n.payload.handler),i={...t};return i[e]={...t[e],[n.payload.name]:r},i}let{Provider:d,get:m}=(0,o.Z)("ResourceContext");function f({children:e,resourceCreator:t}){let[{listeners:n,moreListeners:i},o]=(0,r.useReducer)((e,t)=>{switch(t.type){case"addListener":return c("listeners",e,t);case"addMoreListener":return c("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:t,response:r,normalizedResponse:i,refresh:a,resourceSchema:o})=>{n[e]&&n[e].forEach(n=>n({isRefresh:a,normalizedResponse:i,options:t,schema:o,resource:e,response:r}))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:r,refresh:a,resourceSchema:o})=>{i[e]&&i[e].forEach(i=>i({isRefresh:a,normalizedResponse:r,options:t,schema:o,resource:e,response:n}))};let s=(0,r.useMemo)(()=>({listenerDispatch:o,resourceCreator:t}),[t]);return(0,u.jsx)(d,{value:s,children:e})}function p(e,t){let{listenerDispatch:n}=m();(0,r.useEffect)(()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})}),[n,e,t])}function _(e,t){let{listenerDispatch:n}=m();(0,r.useEffect)(()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})}))}function g(){let e=(0,i.I0)();return(0,r.useCallback)((t,n)=>e((0,s.jB)(t,n)),[e])}function v(){return m().resourceCreator}},536652:function(e,t,n){n.d(t,{U:()=>d,b:()=>m});var r=n(575108),i=n(399573),a=n(440568),o=n(849233),s=n(72918),u=n(82347),c=n(954300);function l({addSuspenseResourceSSRData:e,fetchOptions:t,resource:n,resourceCreator:d,retry:m}){return async(p,_)=>{let{bookmark:g,headers:v,options:h,refresh:y,schema:E}=t,R=(0,a.Z)(h);if(_().resources?.[n]?.[R]?.fetching&&!m)return Promise.resolve();let b=m?m.bookmark:g,w=(0,i.Z)(h),L=b?{...w,bookmarks:[b]}:w;p((0,s.LQ)(n,h,!0));try{let i,a,_=d??r.Z.create,R=await _(n,L).callGet(void 0,v);e&&f(R)&&e(n,L,R),f(R)||(i=R.bookmarks?.[0]);let{data:b}=R.resource_response,{normalizedResponse:w,resourceSchema:C}=(0,c.f)({data:b,opts:{bookmark:g,options:h,schema:E},resource:n});if(f(R)){i=R.resource_response.bookmark??"";let e=(0,u.Z)(R);w=e.normalizedResponse,C=e.schema,a=e.response}else a=R;if(Array.isArray(b)&&0===b.length&&i&&i!==o.qx){let e=m?m.count:0;if(!(e>=o.s9))return p(l({resource:n,fetchOptions:t,retry:{count:e+1,bookmark:i},resourceCreator:d}))}a&&(g?(p((0,s.Dm)(n,h,a,w,C)),r.Z.fetchMoreCompleteCallback&&r.Z.fetchMoreCompleteCallback({resource:n,options:h,response:a,normalizedResponse:w,refresh:y,resourceSchema:C})):(p((0,s.Sr)(n,h,a,w,y,C)),r.Z.fetchCompleteCallback&&r.Z.fetchCompleteCallback({resource:n,options:h,response:a,normalizedResponse:w,refresh:y,resourceSchema:C})))}catch(t){if(e){let r=t.http_status??500;e(n,h,{resource:{name:n,options:h},resource_response:{data:null,error:t,http_status:r,status:"failure"}})}p((0,s.Tl)(n,h,t))}}}let d=(e,{bookmark:t,headers:n,options:r,schema:i},a,o)=>l({resource:e,fetchOptions:{bookmark:t,headers:n,options:r,refresh:!1,schema:i},resourceCreator:a,addSuspenseResourceSSRData:o}),m=(e,{headers:t,options:n,schema:r},i)=>l({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:r},resourceCreator:i});function f(e){return"resource"in e}},35831:function(e,t,n){n.d(t,{AF:()=>r,KK:()=>i,aW:()=>s,cR:()=>a,se:()=>u,zP:()=>o});let r="CREATE_COMPLETE",i="FETCHING",a="FETCH_ERROR",o="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",u="RESOURCE_INVALIDATE"},72918:function(e,t,n){n.d(t,{Dm:()=>c,LQ:()=>o,Sr:()=>u,Tl:()=>s,XM:()=>a,jB:()=>l});var r=n(35831),i=n(23534);function a(e,t,n,i){return{type:r.AF,payload:{resource:e,options:t,response:n,normalizedResponse:i}}}function o(e,t,n){return{type:r.KK,payload:{resource:e,options:t,isFetching:n}}}let s=(e,t,n)=>({type:r.cR,payload:{resource:e,options:t,error:n}});function u(e,t,n,a,o,s){return{type:r.zP,payload:{isRefresh:o,normalizedResponse:a,options:t,resource:e,response:n,schema:s},meta:{[i.s]:!0}}}function c(e,t,n,i,a){return{type:r.aW,payload:{resource:e,options:t,response:n,normalizedResponse:i,schema:a}}}function l(e,t){return{type:r.se,payload:{resource:e,optionsOrOptionsKey:t}}}},82347:function(e,t,n){n.d(t,{Z:()=>o});var r=n(782677),i=n(24315),a=n(954300);function o(e){let{resource:t,resource_response:n}=e,{name:o,options:s}=t,u=(0,i.Z)(n),{data:c,error:l}=n,d=(0,a.J)(o,{options:s});return{error:l,isRefresh:!1,normalizedResponse:d&&c?(0,r.Fv)(c,d):null,options:s,resource:o,response:{auxData:u,bookmarks:n.bookmark?[n.bookmark]:void 0,resource_response:{data:c,error:l}},schema:d}}},943257:function(e,t,n){n.d(t,{Z:()=>m});var r=n(667294),i=n(581722),a=n(616550),o=n(440568),s=n(15667),u=n(536652),c=n(849233),l=n(707079),d=n(791948);function m(e,t,n){let{enabledRouteRefresh:m,headers:f,name:p,noCache:_,options:g,schema:v}=e,h=(0,l.MA)(),y=(0,d.vL)(),E=(0,i.I0)(),R=(0,o.Z)(g),b=(0,r.useRef)(void 0),w=(0,a.k6)(),L=w&&"POP"!==w.action,C=(0,r.useRef)(void 0),A=e=>e[p]?.[R],P=(0,i.v9)(({resources:e})=>A(e)?.data),T=(0,i.v9)(({resources:e})=>A(e)?.error),N=!!T||void 0!==P,S=(0,i.v9)(({resources:e})=>!!A(e)?.fetching),I=(0,i.v9)(({resources:e})=>A(e)?.nextBookmark),O=N&&!S&&I===c.qx,j=!!(N&&m&&L&&!t),[k,M]=(0,r.useState)(j),D=k;(0,i.wU)(P,C.current)||(k&&(C.current||!j)&&(D=!1,M(!1)),C.current=P);let F=(0,r.useCallback)(e=>{let t=E((0,u.U)(p,{options:g,schema:v,bookmark:e,headers:f},y,void 0));e||h?.add(p,R,t)},[E,p,R,v,f]),V=(0,r.useCallback)(()=>{let e=E((0,u.b)(p,{options:g,schema:v,headers:f},y));h?.add(p,R,e)},[E,p,R,v,f]),H=(0,r.useCallback)(()=>{t||(V(),M(!0))},[t,V]),Z=(0,r.useCallback)(()=>{!I||O||S||t||F(I)},[t,F,O,S,I]),{isBot:U}=(0,s.B)(),B=(0,r.useCallback)(()=>{if(!(S||h?.get(p,R))&&!t&&b.current!==R){let e=void 0===b.current;b.current=R,!N||n&&e&&T&&(({httpStatus:e})=>!e||e>=500)(T)?F():(!U&&_||j)&&V()}},[n,F,V,t,T,U,S,N,j,p,_,R,h]),G=(0,r.useMemo)(()=>({name:p,optionsKey:R}),[p,R]);return(0,r.useMemo)(()=>({fetchResource:B,ref:G,refresh:H,fetchMore:Z,isFetching:S,isLoaded:N,isRefreshing:D}),[Z,B,S,N,G,D,H])}(0,n(512395).kr)()},886981:function(e,t,n){n.d(t,{Z:()=>u});var r=n(667294),i=n(581722),a=n(440568),o=n(849233),s=n(943257);function u(e){let{enabledRouteRefresh:t,headers:n,name:u,noCache:c,options:l,schema:d}=e??{name:o.fY,options:null},m=(0,a.Z)(l),f=e=>e[u]?.[m],p=(0,i.v9)(({resources:e})=>f(e)?.nextBookmark),_=(0,i.v9)(({resources:e})=>f(e)?.data),g=(0,i.v9)(({resources:e})=>f(e)?.auxData),v=(0,i.v9)(({resources:e})=>f(e)?.error),{fetchResource:h,fetchMore:y,isFetching:E,isLoaded:R,isRefreshing:b,refresh:w}=(0,s.Z)({enabledRouteRefresh:t,headers:n,name:u,noCache:c,options:l,schema:d},!e,!0),L=R&&!E&&p===o.qx;return(0,r.useEffect)(()=>{h()}),(0,r.useMemo)(()=>({auxData:g,data:_,error:v,fetchMore:y,isAtEnd:L,isFetching:E,isLoaded:R,isRefreshing:b,nextBookmark:p,refresh:w}),[g,_,v,y,L,E,R,b,p,w])}},610046:function(e,t,n){n.d(t,{Z:()=>i});var r=n(667294);let i=(e,t)=>{let n=(0,r.useRef)(()=>{});(0,r.useEffect)(()=>{n.current=e},[e]),(0,r.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}},954300:function(e,t,n){n.d(t,{J:()=>a,f:()=>o});var r=n(782677),i=n(388023);let a=(e,{bookmark:t,options:n,schema:r})=>{let a=r||i.Z[e];return"function"==typeof a?a({resource:e,options:n,bookmark:t}):a};function o({data:e,opts:{bookmark:t,options:n,schema:i},resource:o}){let s=a(o,{bookmark:t,options:n,schema:i});return{normalizedResponse:s&&e?(0,r.Fv)(e,s):null,resourceSchema:s}}},388023:function(e,t,n){n.d(t,{Z:()=>i});var r=n(428725);let i={AggregatedCommentResource:r.rm,AggregatedCommentFeedResource:r.LR,AggregatedCommentReplyResource:r.rm,AggregatedCommentReplyFeedResource:r.LR,AggregatedActivityFeedResource:r.LR,BestPinsFeedAltResource:r.LR,BoardArchiveResource:r.LR,BoardContentRecommendationResource:r.LR,BoardFeedResource:r.LR,BoardFollowingResource:r.LR,BoardInviteResource:r.sf,BoardInvitesResource:r.Ht,BoardlessPinsResource:r.LR,BoardPickerBoardsResource:{all_boards:r.LR,boards_shortlist:r.LR},BoardSectionEditResource:r._F,BoardSectionsRepinResource:r.LR,BoardSectionsResource:r.LR,BoardsFeedResource:r.LR,BoardResource:r.IY,BoardSectionResource:r._F,BoardSectionPinsResource:r.LR,BoardToolsFeedResource:r.LR,ContactRequestsResource:r.LR,ConversationsResource:r.LR,ConversationMessagesResource:r.dq,DidItCommentsResource:r.LR,DidItLikedByResource:r.Gn,DidItUserFeedResource:r.LR,InterestFollowingResource:r.LR,InterestResource:r.cC,MoreIdeasTabsBoardsResource:r.LR,NewsHubResource:r.LR,NewsHubDetailsResource:r.LR,NewsHubSummaryResource:r.t6,NuxInterestsResource:r.LR,PinResource:r.Cj,PinsFromBrandResource:r.LR,ReactionsResource:r.fE,RelatedArticlesResource:r.LR,RelatedInterestsResource:r.LR,RelatedModulesResource:r.LR,RelatedPinFeedResource:r.LR,RelatedStreamResource:r.LR,RepinResource:r.Cj,BaseSearchResource:{results:r.LR},SearchResource:r.LR,SectionToolsFeedResource:r.LR,ShareSuggestionsTypeaheadResource:{items:r.LR},StoryFeedResource:r.LR,StoryPinTaggedProductsResource:r.LR,TodayArticleFeedResource:r.LR,TodayArticleResource:r.iF,TodayTabInterestFeedResource:r.LR,TodayTabResource:r.LR,TopicFeedResource:r.LR,UnifiedCommentsResource:r.LR,UserActivityPinsResource:r.LR,UserFollowingResource:r.LR,UserRecentActivityResource:r.LR,UserHomefeedResource:r.LR,UserPinsResource:r.LR,UserSettingsResource:r.EA,UserStoryPinsFeedResource:r.LR,UserResource:r.EA,VisualLiveSearchResource:{results:r.LR},VisualLiveSearchProductFeedResource:r.LR,VisualSearchFlashlightUnifiedResource:r.LR,SeoTier1CandidateResource:r.LR}},428725:function(e,t,n){n.d(t,{Cj:()=>c,EA:()=>a,Gn:()=>C,Ht:()=>L,IY:()=>u,LR:()=>P,_F:()=>m,cC:()=>y,dq:()=>p,fE:()=>d,iF:()=>h,rm:()=>o,sN:()=>A,sf:()=>E,t6:()=>w});var r=n(782677);let i=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),a=new r.fK.Entity(i.user),o=new r.fK.Entity(i.aggregatedComment,{user:a,tagged_users:[a]}),s=new r.fK.Entity(i.article),u=new r.fK.Entity(i.board),c=new r.fK.Entity(i.pin),l=new r.fK.Entity(i.reaction),d=new r.fK.Array(l),m=new r.fK.Entity(i.boardsection),f=new r.fK.Entity(i.conversationMessage,{sender:a,users:[a],board:u,pin:c,user:a}),p=new r.fK.Array(f),_=new r.fK.Entity(i.contactrequest),g=new r.fK.Entity(i.story),v=new r.fK.Entity(i.triedit),h=new r.fK.Entity(i.todayArticle,{article_creator_user:a,content_pin:c,content_pin_official_user:a,video_pin:c}),y=new r.fK.Entity(i.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),E=new r.fK.Entity(i.invite,{invited_by_user:a,invited_user:a,board:u},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),R=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},b=new r.fK.Union({user:a,board:u,invite:E,pin:c,topic:y,triedit:v},R),w=new r.fK.Entity(i.notification,{content_items:[{content_object:b}],header_icon_objects:[b]}),L=new r.fK.Array(E),C=new r.fK.Array(a),A=new r.fK.Array(u),P=new r.fK.Array({aggregatedComment:o,article:s,board:u,boardsection:m,contactrequest:_,conversationMessage:f,notification:w,pin:c,story:g,todayArticle:h,topic:y,triedit:v,user:a},R,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});g.define({objects:P})},23534:function(e,t,n){n.d(t,{b:()=>a,s:()=>r});let r="RTK_autoBatch",i=e=>t=>{setTimeout(t,e)},a=(e={type:"raf"})=>t=>(...n)=>{let a=t(...n),o=!0,s=!1,u=!1,c=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:i(10):"callback"===e.type?e.queueNotification:i(e.timeout),d=()=>{u=!1,s&&(s=!1,c.forEach(e=>e()))};return{...a,subscribe(e){let t=a.subscribe(()=>o&&e());return c.add(e),()=>{t(),c.delete(e)}},dispatch(e){try{return(s=!(o=!e?.meta?.[r]))&&!u&&(u=!0,l(d)),a.dispatch(e)}finally{o=!0}}}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/78949-d58ab4105b29f95c.mjs.map