[build]
  base = ""
  publish = ""
  functions = "netlify/functions"

[dev]
  framework = "#static"
  targetPort = 3999
  autoLaunch = false

# Password protect admin pages (Basic Auth)
# To enable: Set ADMIN_PASSWORD in Netlify environment variables
[[redirects]]
  from = "/admin/*"
  to = "/admin/:splat"
  status = 200
  force = false
  conditions = {Role = ["admin"]}

# Uncomment below for HTTP Basic Auth protection
# Replace USERNAME and PASSWORD with your desired credentials
# [[redirects]]
#   from = "/admin/*"
#   to = "/admin/:splat"
#   status = 200
#   force = true
#   headers = {X-Robots-Tag = "noindex"}

[[headers]]
  for = "/admin/*"
  [headers.values]
    X-Robots-Tag = "noindex"
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
